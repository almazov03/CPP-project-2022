# Git Workflow

В мануале рассказываю, как можно работать в команде над проектом в Git VCS.

## Про основные ветки

- В проекте обычно определяются защищенные **develop** и **master**, в которые нельзя делать коммиты напрямую. (хватит простого согласия в маленькой команде, над учебной работой)
- **master** ветка должна либо ничего не содержать (на этапе инициализации проекта), либо содержать завершенный результат проекта (то, что уже можно использовать по назначению)
- Ветка **master** получает изменения только из ветки **develop** через pull request (или merge request)


## Как выглядит работа над проектом от лица одного разработчика

Допустим, у программиста есть согласованная атомарная задача в разработке. (предельно допустимая атомарная единица работы, как например логика генерации игровой карты без графического представления)

Для небольшого учебного проекта будет достаточным сделать новую ветку для решения вашей конкретной задачи от **develop**.

```bash
git switch develop
git pull // чтобы получить актуальные коммиты от remote ветки
git checkout -b pr/<developer_name>/<task_name> // чтобы создать и переключиться на ветку вашей задачи
```

В эту pr ветку (ветка для pull request'a) вы делаете коммиты во время вашей работы, можете даже сразу запушить ее на remote репозиторий.
Когда ваша задача выполнена (или вам так кажется) в этой ветке и все изменения были зафиксированны в коммитах этой ветки, нужно отправить изменения на remote.

С этой командой
```bash
git push
```

## Как завершить работу на задачей? Запрос на слияние

На github'e есть возможность создать pull request (или merge request). Создайте запрос на слияние в develop ветку из вашей pr ветки.

В настройках запроса установите удаление pr ветки после слияния, и **squash commits** (чтобы ваши коммиты не портили историю develop и master ветки соответственно)



Позовите ваших близких и друзей посмотреть на ваш запрос. Пусть они посмотрят на изменения которые вы собираетесь слить в develop. Если у них будут замечания по вашему коду, пусть они напишут вопросы под пулл реквестом (не торопитесь закрывать его сразу, лучше сразу поискать ошибки вместе). 

Во время запроса на слияния можно продолжать делать коммиты в вашей pr ветке и пушить их на remote. В таком случае вам не нужно будет пересоздавать что-либо, когда нужно исправить замечания. Просто добавляете коммиты и пушите их во время запроса на слияние, чтобы пофиксить обнаруженные проблемы, улучшить решение и так далее.